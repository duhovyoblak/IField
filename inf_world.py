#==============================================================================
# Siqo class IWorld
#------------------------------------------------------------------------------
# from  datetime import datetime, timedelta

from inf_struct         import IStruct

#==============================================================================
# package's constants
#------------------------------------------------------------------------------
_DELTA_MAX  =  100  # Max delta for autoidentity

#==============================================================================
# package's variables
#------------------------------------------------------------------------------

#==============================================================================
# IWorld
#------------------------------------------------------------------------------
class IWorld:

    #==========================================================================
    # Static variables & methods
    #--------------------------------------------------------------------------
    journal = None   # Pointer to global journal

    #--------------------------------------------------------------------------
    @staticmethod
    def infoAll():
        "Returns info about Objects"

        info = {}
        msg  = []
        
        #----------------------------------------------------------------------
        return {'res':'OK', 'info':info, 'msg':msg, 'obj':None}

    #--------------------------------------------------------------------------

    #==========================================================================
    # Constructor & utilities
    #--------------------------------------------------------------------------
    #
    # Progenitor je N-dimenzionalna struktura Objektov prog = [...[IObject]]
    #
    #
    #
    #--------------------------------------------------------------------------
    def __init__(self, prog):
        "Calls constructor of IWorld and initialise it"

        IWorld.journal.I(f"IWorld.constructor: ''")

        #----------------------------------------------------------------------
        # datove polozky triedy
        #----------------------------------------------------------------------
        self.status  = 'I'    # Actual status of this Objects ['I'nitialised, 'A'nalysed]
        
        self.prog  = copy(prog)     # Progenitor of the world
        self.world = None     # World created from the progenitor

        
        #----------------------------------------------------------------------
        # Update zoznamov a indexov
        #----------------------------------------------------------------------
        
        #----------------------------------------------------------------------
        # inicializacia Objektu
        #----------------------------------------------------------------------

        IWorld.journal.O(f'{self.objId}.constructor: done with status {self.status}')

    #--------------------------------------------------------------------------
    def __str__(self):
        "Prints info about this object"

        toRet = ''
        for line in self.info()['out']: toRet += line +'\n'

        return toRet

    #--------------------------------------------------------------------------
    def info(self):
        "Returns info about this Object"

        info = {}
        msg  = []
        
        info['objId'     ] = self.objId
            
        #----------------------------------------------------------------------
        # Histogram

        #----------------------------------------------------------------------
        # Output
        for key, val in info.items(): msg.append(f' = {val}')

        return {'res':'OK', 'info':info, 'msg':msg, 'obj':self}

    #==========================================================================
    # API
    #--------------------------------------------------------------------------
        
    #--------------------------------------------------------------------------
    #--------------------------------------------------------------------------

    #==========================================================================
    # Internal Methods
    #--------------------------------------------------------------------------
        
    #==========================================================================
    # Persistency methods
    #--------------------------------------------------------------------------
    def fromJson(self, json):
        "Loads Object from json structure"

        IWorld.journal.I(f'{self.objId}.fromJson:')

        #----------------------------------------------------------------------
        IWorld.journal.O(f'{self.objId}.fromJson: Loaded')

    #--------------------------------------------------------------------------
    def toJson(self):
        "Converts Object into json structure"
        
        IWorld.journal.I(f'{self.objId}.toJson:')
        
        toRet = {}

        IWorld.journal.O(f'{self.objId}.toJson: Converted')
        return toRet

#------------------------------------------------------------------------------
print('IWorld ver 0.01')

#==============================================================================
#                              END OF FILE
#------------------------------------------------------------------------------